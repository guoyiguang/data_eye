{"version":3,"file":"index.js","sources":["../../src/components/borderBox11/index.js"],"sourcesContent":["import React, { useMemo, useRef, forwardRef } from 'react'\n\nimport PropTypes from 'prop-types'\n\nimport classnames from 'classnames'\n\nimport { deepMerge } from '@jiaminghi/charts/lib/util/index'\nimport { deepClone } from '@jiaminghi/c-render/lib/plugin/util'\nimport { fade } from '@jiaminghi/color'\n\nimport useAutoResize from '../../use/autoResize'\n\nimport './style.less'\n\nconst defaultColor = ['#8aaafb', '#1f33a2']\n\nconst BorderBox = forwardRef(({ children, className, style, color = [], titleWidth = 250, title = '' }, ref) => {\n  const filterId = useRef(`border-box-11-filterId-${Date.now()}`).current\n\n  const { width, height, domRef } = useAutoResize(ref)\n\n  const mergedColor = useMemo(() => deepMerge(deepClone(defaultColor, true), color || []), [color])\n\n  const classNames = useMemo(() => classnames('dv-border-box-11', className), [\n    className\n  ])\n\n  return (\n    <div className={classNames} style={style} ref={domRef}>\n      <svg className='dv-border-svg-container' width={width} height={height}>\n        <defs>\n          <filter id={filterId} height='150%' width='150%' x='-25%' y='-25%'>\n            <feMorphology operator='dilate' radius='2' in='SourceAlpha' result='thicken' />\n            <feGaussianBlur in='thicken' stdDeviation='3' result='blurred' />\n            <feFlood floodColor={mergedColor[1]} result='glowColor' />\n            <feComposite in='glowColor' in2='blurred' operator='in' result='softGlowColored' />\n            <feMerge>\n              <feMergeNode in='softGlowColored' />\n              <feMergeNode in='SourceGraphic' />\n            </feMerge>\n          </filter>\n        </defs>\n\n        <polyline\n          stroke={mergedColor[0]}\n          filter={`url(#${filterId})`}\n          points={`\n          ${(width - titleWidth) / 2}, 30\n          20, 30 7, 50 7, ${50 + (height - 167) / 2}\n          13, ${55 + (height - 167) / 2} 13, ${135 + (height - 167) / 2}\n          7, ${140 + (height - 167) / 2} 7, ${height - 27}\n          20, ${height - 7} ${width - 20}, ${height - 7} ${width - 7}, ${height - 27}\n          ${width - 7}, ${140 + (height - 167) / 2} ${width - 13}, ${135 + (height - 167) / 2}\n          ${width - 13}, ${55 + (height - 167) / 2} ${width - 7}, ${50 + (height - 167) / 2}\n          ${width - 7}, 50 ${width - 20}, 30 ${(width + titleWidth) / 2}, 30\n          ${(width + titleWidth) / 2 - 20}, 7 ${(width - titleWidth) / 2 + 20}, 7\n          ${(width - titleWidth) / 2}, 30 ${(width - titleWidth) / 2 + 20}, 52\n          ${(width + titleWidth) / 2 - 20}, 52 ${(width + titleWidth) / 2}, 30\n        `}\n        />\n\n        <polygon\n          stroke={mergedColor[0]}\n          fill='transparent'\n          points={`\n          ${(width + titleWidth) / 2 - 5}, 30 ${(width + titleWidth) / 2 - 21}, 11\n          ${(width + titleWidth) / 2 - 27}, 11 ${(width + titleWidth) / 2 - 8}, 34\n        `}\n        />\n\n        <polygon\n          stroke={mergedColor[0]}\n          fill='transparent'\n          points={`\n          ${(width - titleWidth) / 2 + 5}, 30 ${(width - titleWidth) / 2 + 22}, 49\n          ${(width - titleWidth) / 2 + 28}, 49 ${(width - titleWidth) / 2 + 8}, 26\n        `}\n        />\n\n        <polygon\n          stroke={mergedColor[0]}\n          fill={fade(mergedColor[1] || defaultColor[1], 30)}\n          filter={`url(#${filterId})`}\n          points={`\n          ${(width + titleWidth) / 2 - 11}, 37 ${(width + titleWidth) / 2 - 32}, 11\n          ${(width - titleWidth) / 2 + 23}, 11 ${(width - titleWidth) / 2 + 11}, 23\n          ${(width - titleWidth) / 2 + 33}, 49 ${(width + titleWidth) / 2 - 22}, 49\n        `}\n        />\n\n        <polygon\n          filter={`url(#${filterId})`}\n          fill={mergedColor[0]}\n          opacity='1'\n          points={`\n          ${(width - titleWidth) / 2 - 10}, 37 ${(width - titleWidth) / 2 - 31}, 37\n          ${(width - titleWidth) / 2 - 25}, 46 ${(width - titleWidth) / 2 - 4}, 46\n        `}\n        >\n          <animate\n            attributeName='opacity'\n            values='1;0.7;1'\n            dur='2s'\n            begin='0s'\n            repeatCount='indefinite'\n          />\n        </polygon>\n\n        <polygon\n          filter={`url(#${filterId})`}\n          fill={mergedColor[0]}\n          opacity='0.7'\n          points={`\n          ${(width - titleWidth) / 2 - 40}, 37 ${(width - titleWidth) / 2 - 61}, 37\n          ${(width - titleWidth) / 2 - 55}, 46 ${(width - titleWidth) / 2 - 34}, 46\n        `}\n        >\n          <animate\n            attributeName='opacity'\n            values='0.7;0.4;0.7'\n            dur='2s'\n            begin='0s'\n            repeatCount='indefinite'\n          />\n        </polygon>\n\n        <polygon\n          filter={`url(#${filterId})`}\n          fill={mergedColor[0]}\n          opacity='0.5'\n          points={`\n          ${(width - titleWidth) / 2 - 70}, 37 ${(width - titleWidth) / 2 - 91}, 37\n          ${(width - titleWidth) / 2 - 85}, 46 ${(width - titleWidth) / 2 - 64}, 46\n        `}\n        >\n          <animate\n            attributeName='opacity'\n            values='0.5;0.2;0.5'\n            dur='2s'\n            begin='0s'\n            repeatCount='indefinite'\n          />\n        </polygon>\n\n        <polygon\n          filter={`url(#${filterId})`}\n          fill={mergedColor[0]}\n          opacity='1'\n          points={`\n          ${(width + titleWidth) / 2 + 30}, 37 ${(width + titleWidth) / 2 + 9}, 37\n          ${(width + titleWidth) / 2 + 3}, 46 ${(width + titleWidth) / 2 + 24}, 46\n        `}\n        >\n          <animate\n            attributeName='opacity'\n            values='1;0.7;1'\n            dur='2s'\n            begin='0s'\n            repeatCount='indefinite'\n          />\n        </polygon>\n\n        <polygon\n          filter={`url(#${filterId})`}\n          fill={mergedColor[0]}\n          opacity='0.7'\n          points={`\n          ${(width + titleWidth) / 2 + 60}, 37 ${(width + titleWidth) / 2 + 39}, 37\n          ${(width + titleWidth) / 2 + 33}, 46 ${(width + titleWidth) / 2 + 54}, 46\n        `}\n        >\n          <animate\n            attributeName='opacity'\n            values='0.7;0.4;0.7'\n            dur='2s'\n            begin='0s'\n            repeatCount='indefinite'\n          />\n        </polygon>\n\n        <polygon\n          filter={`url(#${filterId})`}\n          fill={mergedColor[0]}\n          opacity='0.5'\n          points={`\n          ${(width + titleWidth) / 2 + 90}, 37 ${(width + titleWidth) / 2 + 69}, 37\n          ${(width + titleWidth) / 2 + 63}, 46 ${(width + titleWidth) / 2 + 84}, 46\n        `}\n        >\n          <animate\n            attributeName='opacity'\n            values='0.5;0.2;0.5'\n            dur='2s'\n            begin='0s'\n            repeatCount='indefinite'\n          />\n        </polygon>\n\n        <text\n          className='dv-border-box-11-title'\n          x={`${width / 2}`}\n          y='32'\n          fill='#fff'\n          fontSize='18'\n          textAnchor='middle'\n          dominantBaseline='middle'\n        >\n          {title}\n        </text>\n\n        <polygon\n          fill={mergedColor[0]}\n          filter={`url(#${filterId})`}\n          points={`\n          7, ${53 + (height - 167) / 2} 11, ${57 + (height - 167) / 2}\n          11, ${133 + (height - 167) / 2} 7, ${137 + (height - 167) / 2}\n        `}\n        />\n\n        <polygon\n          fill={mergedColor[0]}\n          filter={`url(#${filterId})`}\n          points={`\n          ${width - 7}, ${53 + (height - 167) / 2} ${width - 11}, ${57 + (height - 167) / 2}\n          ${width - 11}, ${133 + (height - 167) / 2} ${width - 7}, ${137 + (height - 167) / 2}\n        `}\n        />\n      </svg>\n\n      <div className='border-box-content'>\n        {children}\n      </div>\n    </div>\n  )\n})\n\nBorderBox.propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  color: PropTypes.array,\n  titleWidth: PropTypes.number,\n  title: PropTypes.string\n}\n\nexport default BorderBox\n"],"names":["defaultColor","BorderBox","forwardRef","ref","children","className","style","color","titleWidth","title","filterId","useRef","Date","now","current","useAutoResize","width","height","domRef","mergedColor","useMemo","deepMerge","deepClone","classNames","classnames","React","fade","propTypes","PropTypes","node","string","object","array","number"],"mappings":"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"}