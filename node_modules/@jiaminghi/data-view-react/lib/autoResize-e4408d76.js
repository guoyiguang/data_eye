'use strict';

function _interopDefault (ex) { return (ex && (typeof ex === 'object') && 'default' in ex) ? ex['default'] : ex; }

var React = require('react');
var React__default = _interopDefault(React);
var index = require('./index-2543fd4b.js');
var _babelHelpers = require('./_babelHelpers-1c35d3ad.js');

function useAutoResize(ref) {
  var _useState = React.useState({ width: 0, height: 0 }),
      _useState2 = _babelHelpers.slicedToArray(_useState, 2),
      state = _useState2[0],
      setState = _useState2[1];

  var domRef = React.useRef(null);

  var setWH = React.useCallback(function () {
    var _domRef$current = domRef.current,
        clientWidth = _domRef$current.clientWidth,
        clientHeight = _domRef$current.clientHeight;


    setState({ width: clientWidth, height: clientHeight });
  }, []);

  React.useImperativeHandle(ref, function () {
    return { setWH: setWH };
  }, []);

  React.useEffect(function () {
    var debounceSetWHFun = index.debounce(setWH, 100);

    debounceSetWHFun();

    var domObserver = index.observerDomResize(domRef.current, debounceSetWHFun);

    window.addEventListener('resize', debounceSetWHFun);

    return function () {
      domObserver.disconnect();
      domObserver.takeRecords();

      window.removeEventListener('resize', debounceSetWHFun);
    };
  }, []);

  return _babelHelpers._extends({}, state, { domRef: domRef, setWH: setWH });
}

exports.useAutoResize = useAutoResize;
//# sourceMappingURL=autoResize-e4408d76.js.map
